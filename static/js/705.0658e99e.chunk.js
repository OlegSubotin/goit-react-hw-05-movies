"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[705],{9778:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(501),r=n(6871),c=n(5562),i=n.n(c),o="MovieGallery_list__tZ4SP",s="MovieGallery_item__4tR9S",u="MovieGallery_image__GR1sS",l="MovieGallery_text__r6Cf+",m="MovieGallery_link__CmVj8",f=n(9163),h=n(184),v=function(e){var t=e.movies,n=(0,r.TH)();return(0,h.jsxs)(h.Fragment,{children:[t.length>0&&(0,h.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,r=e.title,c=e.poster_path;return(0,h.jsx)("li",{className:s,children:(0,h.jsxs)(a.rU,{className:m,to:"/movies/".concat(t),state:{from:n.pathname+n.search},children:[(0,h.jsx)("img",{src:c?"https://image.tmdb.org/t/p/w500".concat(c):f,alt:r,className:u}),(0,h.jsx)("p",{className:l,children:r})]})},t)}))}),0===t&&i().Notify.info("Sorry, there is no movie")]})}},4697:function(e,t,n){n.d(t,{Df:function(){return i},IQ:function(){return u},Jh:function(){return l},Pg:function(){return s},gH:function(){return o}});var a=n(4569),r="d738edb014e8e3b583b9023797190025",c="https://api.themoviedb.org/3/",i=function(){var e="".concat(c,"trending/movie/day?api_key=").concat(r,"&page=",1);return a.get(e)};function o(e){var t="".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(e);return a.get(t)}function s(e){var t="".concat(c,"movie/").concat(e,"?api_key=").concat(r);return a.get(t)}function u(e){var t="".concat(c,"movie/").concat(e,"/credits?api_key=").concat(r);return a.get(t)}function l(e){var t="".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(r);return a.get(t)}},5705:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(885),r=n(501),c=n(2791),i=n(5562),o=n.n(i),s=n(8185),u={wrapper:"SearchBar_wrapper__KGK67",form:"SearchBar_form__gW7Gj",button:"SearchBar_button__T7RTc",input:"SearchBar_input__bIy50"},l=n(184);var m=function(e){var t=e.onSubmit,n=e.onChange;return(0,l.jsx)("div",{className:u.wrapper,children:(0,l.jsxs)("form",{className:u.form,onSubmit:t,children:[(0,l.jsx)("input",{className:u.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",name:"query",onChange:n}),(0,l.jsx)("button",{className:u.button,children:(0,l.jsxs)("span",{className:u.buttonLabel,children:[" ",(0,l.jsx)(s.dVI,{fill:"#00008b"})]})})]})})},f=n(4697),h=n(9778),v=n(1421),_="MoviesView_title__aHOX4",d="idle",p="pending",g="rejected",j="resolved";function y(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2)[1],n=(0,c.useState)(d),i=(0,a.Z)(n,2),s=i[0],u=i[1],y=(0,c.useState)([]),x=(0,a.Z)(y,2),b=x[0],N=x[1],S=(0,c.useState)(null),w=(0,a.Z)(S,2),k=w[0],C=w[1],Z=(0,r.lr)(),G=(0,a.Z)(Z,2),q=G[0],M=G[1];return(0,c.useEffect)((function(){if(null!==q.get("query")){var e=q.get("query");u(p),(0,f.gH)(e).then((function(e){var n=e.data.results.map((function(e){return{id:e.id,poster_path:e.poster_path,title:e.title}}));N(n),u(j),t("")})).catch((function(e){C(e),u(g)}))}}),[q]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value.toLowerCase();""!==t.trim()?M({query:t}):o().Notify.info("Put a movie")},onChange:function(e){t(e.currentTarget.value.toLowerCase())}}),s===d&&(0,l.jsx)("h1",{className:_,children:"We can find any movie you want "}),s===p&&(0,l.jsx)(v.Z,{}),s===g&&(0,l.jsx)("h1",{className:_,children:k}),s===j&&b&&(0,l.jsx)(l.Fragment,{children:0===b.length?(0,l.jsx)("h1",{className:_,children:"Your movie is very specific "}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:_,children:"We've found for you:"}),(0,l.jsx)(h.Z,{movies:b})]})})]})}},9163:function(e,t,n){e.exports=n.p+"static/media/movieImage.71253f31d01ef6cdd4cc.jpg"}}]);
//# sourceMappingURL=705.0658e99e.chunk.js.map
{"version":3,"file":"static/js/705.0658e99e.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieGallery/MovieGallery.module.css?cb9b","components/MovieGallery/MovieGallery.js","services/movie-api.js","webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.js","webpack://goit-react-hw-05-movies/./src/views/MoviesView/MoviesView.module.css?113d","views/MoviesView/MoviesView.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieGallery_list__tZ4SP\",\"item\":\"MovieGallery_item__4tR9S\",\"image\":\"MovieGallery_image__GR1sS\",\"text\":\"MovieGallery_text__r6Cf+\",\"link\":\"MovieGallery_link__CmVj8\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Notiflix from 'notiflix';\nimport s from './MovieGallery.module.css';\nimport movieImage from '../../images/movieImage.jpg';\n\nconst MovieGallery = ({ movies }) => {\n    const location = useLocation();\n\n    return (\n        <>\n            {movies.length > 0 && (\n                <ul className={s.list}>\n                    {movies.map(({ id, title, poster_path }) => (\n                        <li key={id} className={s.item}>\n                            <Link className={s.link} to={`/movies/${id}`} state={{ from: location.pathname + location.search }}>\n                            <img src={poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : movieImage}\n                                alt={title}\n                                className={s.image}\n                            />\n                                <p className={s.text}>{title}</p>\n                                </Link>\n                        </li>\n                    ))}\n                </ul>\n            )}\n            {movies === 0 && Notiflix.Notify.info('Sorry, there is no movie')}\n        </>\n    );\n};\n\nMovieGallery.propTypes = {\n    movies: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string.isRequired,\n            poster_path: PropTypes.string,\n        })\n    )\n};\n\nexport default MovieGallery;\n\n\n\n","const axios = require('axios');\nconst KEY = 'd738edb014e8e3b583b9023797190025';\nconst URL = 'https://api.themoviedb.org/3/';\n\nexport const getTrendingMovies=()=> {\n    const url = `${URL}trending/movie/day?api_key=${KEY}&page=${1}`;\n    const resp = axios.get(url);\n    return resp;\n};\n\nexport function getSearchMovie (movie) {\n    const url = `${URL}search/movie?api_key=${KEY}&query=${movie}`;\n    const resp = axios.get(url);\n    return resp;\n};\n\nexport function getMovieById (movieId) {\n    const url = `${URL}movie/${movieId}?api_key=${KEY}`;\n    const resp = axios.get(url);\n    return resp;\n};\n\nexport function getCast(movieId) {\n    const url = `${URL}movie/${movieId}/credits?api_key=${KEY}`;\n    const resp = axios.get(url);\n    return resp;\n};\n\nexport function getReviews(movieId) {\n    const url = `${URL}movie/${movieId}/reviews?api_key=${KEY}`;\n    const resp = axios.get(url);\n    return resp;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SearchBar_wrapper__KGK67\",\"form\":\"SearchBar_form__gW7Gj\",\"button\":\"SearchBar_button__T7RTc\",\"input\":\"SearchBar_input__bIy50\"};","import { BsSearch } from 'react-icons/bs';\nimport PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nfunction SearchBar({ onSubmit, onChange }) {\n    \n    return (\n        <div className={s.wrapper}>\n            <form className={s.form} onSubmit={onSubmit}>\n                <input\n                    className={s.input}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search movie\"\n                    name=\"query\"\n                    onChange={onChange}\n                />\n                <button className={s.button}>\n                    <span className={s.buttonLabel}> <BsSearch fill='#00008b' /></span>\n                </button>\n            </form>\n        </div>\n    );\n};\n\nSearchBar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MoviesView_title__aHOX4\"};","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Notiflix from 'notiflix';\nimport SearchBar from 'components/SearchBar';\nimport { getSearchMovie } from '../../services/movie-api';\nimport MovieGallery from 'components/MovieGallery';\nimport Loader from 'components/Loader/Loader.js';\nimport s from './MoviesView.module.css';\n\nconst STATUS = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    REJECTED: 'rejected',\n    RESOLVED: 'resolved',\n};\n\nexport default function MovieView() {\n    const [, setQuery] = useState('');\n    const [status, setStatus] = useState(STATUS.IDLE);\n    const [movies, setMovies] = useState([]);\n    const [error, setError] = useState(null);\n    const [searchParams, setSearchParams] = useSearchParams();\n\n\n    useEffect(() => {\n        if (searchParams.get('query') !== null) {\n            const newQuery = searchParams.get('query');\n            setStatus(STATUS.PENDING);\n        getSearchMovie(newQuery)\n            .then(resp => {\n                const newMovies = resp.data.results.map(({ id, poster_path, title }) => ({ id, poster_path, title, }));\n                setMovies(newMovies);\n                setStatus(STATUS.RESOLVED)\n                resetForm();\n            }).catch(error => {\n                setError(error);\n                setStatus(STATUS.REJECTED);\n            });\n        };\n    }, [searchParams]);\n\n    function resetForm (){\n        setQuery('');\n    };\n\n    function handleQueryChange(e) {\n        setQuery(e.currentTarget.value.toLowerCase());\n    };\n\n    function handleFormSubmit(e) {\n        e.preventDefault();\n\n        const newQuery = e.target.elements.query.value.toLowerCase();\n\n        if (newQuery.trim() === \"\") {\n            Notiflix.Notify.info('Put a movie');\n            return;\n        };\n\n        setSearchParams({ query: newQuery });\n    };  \n    \n    return (\n        <>\n            <SearchBar onSubmit={handleFormSubmit} onChange={handleQueryChange}/>\n            {status === STATUS.IDLE && <h1 className={s.title}>We can find any movie you want </h1>}\n            {status === STATUS.PENDING && <Loader />}\n            {status === STATUS.REJECTED && <h1 className={s.title}>{error}</h1>}\n            {status === STATUS.RESOLVED && movies &&\n                <>                    \n                    {movies.length === 0\n                        ? <h1 className={s.title}>Your movie is very specific </h1>\n                        : <><h1 className={s.title}>We've found for you:</h1><MovieGallery movies={movies} /></>\n                    }\n                </>\n            }\n        </>\n    );\n};\n"],"names":["movies","location","useLocation","length","className","s","map","id","title","poster_path","to","state","from","pathname","search","src","movieImage","alt","Notiflix","axios","require","KEY","URL","getTrendingMovies","url","get","getSearchMovie","movie","getMovieById","movieId","getCast","getReviews","onSubmit","onChange","type","autoComplete","autoFocus","placeholder","name","fill","STATUS","MovieView","useState","setQuery","status","setStatus","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","useEffect","newQuery","then","resp","newMovies","data","results","catch","e","preventDefault","target","elements","query","value","toLowerCase","trim","currentTarget","Loader","MovieGallery"],"sourceRoot":""}